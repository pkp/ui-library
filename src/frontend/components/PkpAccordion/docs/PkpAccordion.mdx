import {Primary, Controls, Meta} from '@storybook/addon-docs/blocks';

import * as PkpAccordionStories from './PkpAccordion.stories.js';

<Meta of={PkpAccordionStories} />

# PkpAccordion

An accessible accordion component for expandable content sections.

<Primary />
<Controls />

## HTML Structure

```html
<div class="PkpAccordionRoot">
	<div class="PkpAccordionItem" data-state="open">
		<h3 class="PkpAccordionHeader">
			<button class="PkpAccordionHeader__trigger">
				<span class="PkpAccordionHeader__content">Section Title</span>
				<span class="PkpAccordionHeader__indicator" data-indicator="rotate">
					<svg viewBox="0 0 24 24">
						<polyline points="6 9 12 15 18 9" />
					</svg>
				</span>
			</button>
		</h3>
		<div class="PkpAccordionContent">Content goes here...</div>
	</div>

	<div class="PkpAccordionItem" data-state="closed">
		<h3 class="PkpAccordionHeader">
			<button class="PkpAccordionHeader__trigger">
				<span class="PkpAccordionHeader__content">Another Section</span>
				<span class="PkpAccordionHeader__indicator" data-indicator="rotate">
					...
				</span>
			</button>
		</h3>
		<div class="PkpAccordionContent">...</div>
	</div>
</div>
```

## PkpAccordionHeader Props

| Prop | Type | Default | Description |
| --- | --- | --- | --- |
| `as` | `String` | `'h3'` | The HTML element for the header wrapper. |
| `indicator` | `String` | `'rotate'` | Controls the indicator visibility and rotation. `'rotate'` shows the indicator and rotates it 180deg when open. `'static'` shows the indicator without rotation (for text or buttons). `'none'` hides the indicator entirely. |

## Slots

### `#indicator`

The `#indicator` slot exposes an `open` prop for state-aware content:

```vue
<PkpAccordionHeader indicator="static">
	Section Title
	<template #indicator="{ open }">
		{{ open ? 'Hide' : 'Show' }}
	</template>
</PkpAccordionHeader>
```

## Data Attributes

<table>
	<thead>
		<tr>
			<th>Attribute</th>
			<th>Element</th>
			<th>Values</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>
				<code>data-state</code>
			</td>
			<td>
				<code>.PkpAccordionItem</code>
			</td>
			<td>
				<code>open</code>, <code>closed</code>
			</td>
		</tr>
		<tr>
			<td>
				<code>data-indicator</code>
			</td>
			<td>
				<code>.PkpAccordionHeader__indicator</code>
			</td>
			<td>
				<code>rotate</code>, <code>static</code> (not present when{' '}
				<code>indicator="none"</code>)
			</td>
		</tr>
	</tbody>
</table>
